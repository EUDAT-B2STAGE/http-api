
###############
backend:
    image: pdonorio/py3api
    hostname: restapi
    #command: sleep infinity
    command: ./run.py
    #command: /bin/bash -c "cd /code; ./run.py"
    ports:
        - 8081:5000
    volumes:
        - ../rest-mock:/code:ro
        - apilitedb:/dbs

###############
frontend:
    image: pdonorio/flasking
    #command: ./app.py
    command: sleep infinity
    environment:
        FLASK_CONFIGURATION: development
    volumes:
        - ../angulask:/data
    #     - ../jsdev/bower_components:/data/angulask/static/bower
    #     - ../jsdev/src/app:/data/angulask/static/app
    ports:
        - 80:5000
    links:
        - backend:api

###############
# Make automatic to install
bower:
    image: pdonorio/jsdev
    working_dir: /web
    command: sleep infinity
    volumes:
        - ../vanilla/jslibs:/web
