<!--
<h3> Record <br> '{{ record }}' </h3>
-->

<div ng-if='error'> 
  <!-- NO DATA -->
  <b>ERROR: {{ error }}</b> 
</div>

<div ng-if='data'>
  <!-- WITH DATA -->

 <div class="row">

   <div class="col s12 m9 l10">
  <!-- content -->

      <!-- text -->
      <div ng-repeat='step in data' id="step{{step.step}}" 
        class="section scrollspy" scrollspy>
        <table class='striped responsive-table'>
         <thead>
           <tr>
             <td colspan="2"> <h4> {{stepnames[step.step]}} </h4> </td>
           </tr>
         </thead>
          <tbody>
            <tr ng-if='row.value' ng-repeat='row in step.data'>
              <th> {{ row.name }} </th>
              <td> {{ row.value }} </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- pages -->
      <div ng-repeat='image in images' id="image{{image.code}}" 
        class="section scrollspy" scrollspy>
        <h4> Page {{image.code}} </h4>
        <table>
          <thead>
            <tr>
              <th>Image</th>
              <th>Transcription</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{ image.filename }}</td>
              <td> <div ng-bind-html-unsafe="image.transcriptions"></div> </td>
            </tr>
          </tbody>
        </table>
      </div>

  <!-- content -->
   </div>

    <div class="col hide-on-small-only m3 l2">
  <!-- Summary -->
     <div class="pinned toc-wrapper">
      <ul class="section table-of-contents">
        <li ng-repeat='step in data'> 
          <a href="#step{{step.step}}">
            {{stepnames[step.step]}} 
          </a>
        </li>
        <li ng-repeat='image in images'> 
          <a href="#image{{image.code}}">
            Page {{image.code}} 
          </a>
        </li>
      </ul>
     </div>
  <!-- Summary -->
    </div>

 </div> <!-- END OF ROW -->
</div> <!-- END OF DATA -->

