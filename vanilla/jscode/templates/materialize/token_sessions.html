<div ng-controller='SessionsController as ctrl'>

<div class="themaxsize" layout="column" layout-align="center center">

    <br>
    <h4>List of your open sessions</h4>

    <md-content ng-if='ctrl.tokens'>
        <table>

            <tr>
                <th>ID</th>
                <th>IP</th>
                <th>host</th>
                <th>Emitted</th>
                <th>Last access</th>
                <th>Expiration</th>
                <th>Token</th>
            </tr>
            <tr ng-repeat="(key, values) in ctrl.tokens">

            <td ng-class="{'green-text': values.inuse}">{{values.id}}</td>
            <td>{{values.IP}}</td>
            <td>{{values.hostname}}</td>
            <td>
                <span 
                    data-toggle="tooltip" 
                    title="{{1000*values.emitted | date : 'yyyy MMM dd HH:mm:ss'}}"
                    >
                    {{values.emitted | moment_unix: 'fromNow' }}
                </span>
            </td>

            <td>
                <span 
                    data-toggle="tooltip" 
                    title="{{1000*values.last_access | date : 'yyyy MMM dd HH:mm:ss'}}"
                    >
                    {{values.last_access | moment_unix: 'fromNow' }}
                </span>
            </td>

            <td>
                <span 
                    data-toggle="tooltip" 
                    title="{{1000*values.expiration | date : 'yyyy MMM dd HH:mm:ss'}}"
                    >
                    {{values.expiration | moment_unix: 'fromNow' }}
                </span>
            </td>

            <td style='max-width:300px;font-size: 6px; word-break: break-all;'>
                {{values.token}}
            </td>

            </tr>
        </table>
    </md-content>

</div>

</div>

